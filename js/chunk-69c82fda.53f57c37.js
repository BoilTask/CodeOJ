(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69c82fda"],{"350e":function(t,e,s){"use strict";var a=s("c06f"),r=s.n(a);r.a},c06f:function(t,e,s){},ecdb:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Content",{staticStyle:{padding:"15px"}},[s("Card",[s("Form",{ref:"formData",attrs:{model:t.formData,"label-width":80}},[t._l(t.formData.items,function(e,a){return s("FormItem",{key:a,attrs:{label:"图片 "+(a+1),prop:"items."+a+".src",rules:{required:!0,message:"请填入图片地址！",trigger:"blur"}}},[s("Row",[s("p",[s("Input",{attrs:{type:"text",placeholder:"https://XXXX.jpg"},model:{value:e.src,callback:function(s){t.$set(e,"src",s)},expression:"item.src"}},[s("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("图片地址：")])])],1),s("p",{staticClass:"inputp"},[s("Input",{attrs:{type:"text",placeholder:"description"},model:{value:e.alt,callback:function(s){t.$set(e,"alt",s)},expression:"item.alt"}},[s("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("图片描述：")])])],1),s("p",{staticClass:"inputp"},[s("Input",{attrs:{type:"text",placeholder:"https://codeoj.cn"},model:{value:e.url,callback:function(s){t.$set(e,"url",s)},expression:"item.url"}},[s("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("指向链接：")])])],1),s("p",{staticClass:"inputp"},[s("Button",{attrs:{type:"error"},on:{click:function(e){return t.handleRemove(a)}}},[t._v("Delete")])],1)])],1)}),s("FormItem",[s("Row",[s("Col",{attrs:{span:"12"}},[s("Button",{attrs:{type:"dashed",long:"",icon:"md-add"},on:{click:t.handleAdd}},[t._v("添加图片")])],1)],1)],1),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formData")}}},[t._v("Submit")])],1)],2)],1)],1)},r=[],n={name:"ManageCarouse",data(){return{formData:{items:[{src:"",alt:"",url:""}]}}},mounted(){new URLSearchParams;axios.get(this.$store.state.API_ROOT+"carouse").then(t=>{this.formData.items=t.data.data.carouse,this.formData.items.length||this.handleAdd()}).catch(function(t){console.log(t)})},methods:{handleSubmit(t){this.$refs[t].validate(t=>{if(t){var e=new URLSearchParams;e.append("user_id",this.$store.state.loginInfo.user_id),e.append("token",this.$store.state.loginInfo.token),e.append("carouse",JSON.stringify(this.formData.items)),axios.post(this.$store.state.API_ROOT+"manage/carouse",e).then(t=>{this.$Spin.hide(),t.data.data.is_ok?this.$Message.success("提交成功!"):this.$Message.success("提交失败！")}).catch(function(t){this.$Message.success("服务器连接失败！")})}else this.$Message.error("Fail!")})},handleAdd(){this.formData.items.push({src:"",alt:"",url:""})},handleRemove(t){this.$Modal.confirm({title:"警告",content:"<p>此操作不可逆，请确认操作无误！</p>",onOk:()=>{this.formData.items.splice(t,1)}})}}},o=n,i=(s("350e"),s("2877")),l=Object(i["a"])(o,a,r,!1,null,"8843fdd0",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-69c82fda.53f57c37.js.map