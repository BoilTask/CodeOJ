(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22385924"],{ab49:function(e,t,a){},abc4:function(e,t,a){"use strict";var s=a("ab49"),n=a.n(s);n.a},e58a:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Content",{staticStyle:{"text-align":"center",padding:"20px"}},[a("Form",{ref:"filterData",attrs:{model:e.filterData,inline:""}},[a("FormItem",{attrs:{prop:"title"}},[a("Input",{attrs:{type:"text",placeholder:"Title"},model:{value:e.filterData.title,callback:function(t){e.$set(e.filterData,"title",t)},expression:"filterData.title"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("标题：")])])],1),a("FormItem",[a("Select",{model:{value:e.filterData.privilege,callback:function(t){e.$set(e.filterData,"privilege",t)},expression:"filterData.privilege"}},[a("span",{attrs:{slot:"prefix"},slot:"prefix"},[e._v("权限：")]),a("Option",{key:0,attrs:{value:0}},[e._v("全部")]),a("Option",{key:1,attrs:{value:1}},[e._v("公开")]),a("Option",{key:2,attrs:{value:2}},[e._v("私有")])],1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:e.filterNews}},[e._v("筛选")]),a("Button",{attrs:{type:"error",to:"/news/add"}},[e._v("新建")])],1)],1),a("Page",{staticClass:"pageBar",attrs:{total:e.newsCnt,"page-size":e.newsPageSize,current:e.newsPage,"show-elevator":"","show-total":""},on:{"on-change":e.changePage}}),a("Table",{attrs:{stripe:"",columns:e.newsColumns,data:e.newsData,loading:e.newsLoading}}),a("Page",{staticClass:"pageBar",attrs:{total:e.newsCnt,"page-size":e.newsPageSize,current:e.newsPage,"show-elevator":"","show-total":""},on:{"on-change":e.changePage}})],1)},n=[],i=(a("6b54"),{name:"ManageNews",data(){return{newsLoading:!0,newsCnt:0,newsPageSize:50,filterData:{title:"",privilege:0},newsColumns:[{title:"#",key:"news_id",width:80,render:(e,t)=>{return e("Button",{props:{type:"dashed",size:"small",to:"/news/"+t.row.news_id+"/edit"}},t.row.news_id)}},{title:"标题",key:"title",render:(e,t)=>{return e("Button",{props:{type:"dashed",to:"/news/"+t.row.news_id+"/edit"}},t.row.title)}},{title:"权限",key:"privilege",render:(e,t)=>{return e("Tag",{props:{color:0==t.row.privilege?"success":"error"}},0==t.row.privilege?"公开":"私有")}},{title:"操作",key:"op",render:(e,t)=>{let a=Array();return a.push(e("Button",{props:{type:"primary",to:"/news/"+t.row.news_id+"/edit"},style:"margin:0 1px"},"编辑")),e("div",a)}}],newsData:[]}},computed:{newsPage:function(){return this.$route.query["page"]?parseInt(this.$route.query["page"]):1}},mounted(){this.getNewsList()},watch:{$route(e,t){this.getNewsList()}},methods:{changePage(e){this.$router.push({path:"/manage/news",query:{page:e}})},getNewsList(){this.newsLoading=!0;var e=new URLSearchParams;e.append("user_id",this.$store.state.loginInfo.user_id),e.append("token",this.$store.state.loginInfo.token),axios.get(this.$store.state.API_ROOT+"news/list/"+this.newsPage+"?"+e.toString()).then(e=>{this.newsData=e.data.data.newsList,this.newsCnt=e.data.data.total,this.newsPageSize=e.data.data.pageSize,this.newsLoading=!1}).catch(function(e){console.log(e)})},filterNews(){this.newsLoading=!0;var e=new URLSearchParams;e.append("user_id",this.$store.state.loginInfo.user_id),e.append("token",this.$store.state.loginInfo.token),e.append("title",this.filterData.title),e.append("privilege",this.filterData.privilege),axios.get(this.$store.state.API_ROOT+"news/list/"+this.newsPage+"?"+e.toString()).then(e=>{this.newsData=e.data.data.newsList,this.newsCnt=e.data.data.total,this.newsPageSize=e.data.data.pageSize,this.newsLoading=!1}).catch(function(e){console.log(e)})}}}),r=i,o=(a("abc4"),a("2877")),l=Object(o["a"])(r,s,n,!1,null,"ded4fa38",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-22385924.04dee683.js.map