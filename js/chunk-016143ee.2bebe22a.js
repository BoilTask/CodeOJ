(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-016143ee"],{4868:function(t,e,a){},"824b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Content",{staticStyle:{padding:"15px"}},[a("Card",[a("Form",{ref:"formData",attrs:{model:t.formData,"label-width":80}},[t._l(t.formData.items,function(e,n){return a("FormItem",{key:n,attrs:{label:"图片 "+(n+1),prop:"items."+n+".src",rules:{required:!0,message:"请填入图片地址！",trigger:"blur"}}},[a("Row",[a("p",[a("Input",{attrs:{type:"text",placeholder:"https://XXXX.jpg"},model:{value:e.src,callback:function(a){t.$set(e,"src",a)},expression:"item.src"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("图片地址：")])])],1),a("p",{staticClass:"inputp"},[a("Input",{attrs:{type:"text",placeholder:"description"},model:{value:e.alt,callback:function(a){t.$set(e,"alt",a)},expression:"item.alt"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("图片描述：")])])],1),a("p",{staticClass:"inputp"},[a("Input",{attrs:{type:"text",placeholder:"https://codeoj.cn"},model:{value:e.url,callback:function(a){t.$set(e,"url",a)},expression:"item.url"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("指向链接：")])])],1),a("p",{staticClass:"inputp"},[a("Button",{attrs:{type:"error"},on:{click:function(e){return t.handleRemove(n)}}},[t._v("Delete")])],1)])],1)}),a("FormItem",[a("Row",[a("Col",{attrs:{span:"12"}},[a("Button",{attrs:{type:"dashed",long:"",icon:"md-add"},on:{click:t.handleAdd}},[t._v("添加图片")])],1)],1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formData")}}},[t._v("Submit")])],1)],2)],1)],1)},s=[],r=a("f499"),o=a.n(r),i=(a("7f7f"),{name:"ManageCarouse",data:function(){return{formData:{items:[{src:"",alt:"",url:""}]}}},mounted:function(){var t=this;new URLSearchParams;axios.get(this.$store.state.API_ROOT+"carouse").then(function(e){t.formData.items=e.data.data.carouse,t.formData.items.length||t.handleAdd()}).catch(function(t){console.log(t)})},methods:{handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(t){var a=new URLSearchParams;a.append("user_id",e.$store.state.loginInfo.user_id),a.append("token",e.$store.state.loginInfo.token),a.append("carouse",o()(e.formData.items)),axios.post(e.$store.state.API_ROOT+"manage/carouse",a).then(function(t){e.$Spin.hide(),t.data.data.is_ok?e.$Message.success("提交成功!"):e.$Message.success("提交失败！")}).catch(function(t){this.$Message.success("服务器连接失败！")})}else e.$Message.error("Fail!")})},handleAdd:function(){this.formData.items.push({src:"",alt:"",url:""})},handleRemove:function(t){var e=this;this.$Modal.confirm({title:"警告",content:"<p>此操作不可逆，请确认操作无误！</p>",onOk:function(){e.formData.items.splice(t,1)}})}}}),c=i,l=(a("e417"),a("2877")),p=Object(l["a"])(c,n,s,!1,null,"cab68a5c",null);e["default"]=p.exports},a21f:function(t,e,a){var n=a("584a"),s=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return s.stringify.apply(s,arguments)}},e417:function(t,e,a){"use strict";var n=a("4868"),s=a.n(n);s.a},f499:function(t,e,a){t.exports=a("a21f")}}]);
//# sourceMappingURL=chunk-016143ee.2bebe22a.js.map