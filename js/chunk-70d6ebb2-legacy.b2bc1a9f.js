(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70d6ebb2"],{"0919":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Content",{staticStyle:{"text-align":"center",padding:"20px"}},[n("Form",{ref:"filterData",attrs:{model:e.filterData,inline:""}},[n("FormItem",{attrs:{prop:"title"}},[n("Input",{attrs:{type:"text",placeholder:"Title"},model:{value:e.filterData.title,callback:function(t){e.$set(e.filterData,"title",t)},expression:"filterData.title"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("标题：")])])],1),n("FormItem",[n("Select",{model:{value:e.filterData.privilege,callback:function(t){e.$set(e.filterData,"privilege",t)},expression:"filterData.privilege"}},[n("span",{attrs:{slot:"prefix"},slot:"prefix"},[e._v("权限：")]),n("Option",{key:0,attrs:{value:0}},[e._v("全部")]),n("Option",{key:1,attrs:{value:1}},[e._v("公开")]),n("Option",{key:2,attrs:{value:2}},[e._v("私有")])],1)],1),n("FormItem",[n("Button",{attrs:{type:"primary"},on:{click:e.filterNews}},[e._v("筛选")]),n("Button",{attrs:{type:"error",to:"/news/add"}},[e._v("新建")])],1)],1),n("Page",{staticClass:"pageBar",attrs:{total:e.newsCnt,"page-size":e.newsPageSize,current:e.newsPage,"show-elevator":"","show-total":""},on:{"on-change":e.changePage}}),n("Table",{attrs:{stripe:"",columns:e.newsColumns,data:e.newsData,loading:e.newsLoading}}),n("Page",{staticClass:"pageBar",attrs:{total:e.newsCnt,"page-size":e.newsPageSize,current:e.newsPage,"show-elevator":"","show-total":""},on:{"on-change":e.changePage}})],1)},s=[],i=(n("6b54"),n("e814")),r=n.n(i),o={name:"ManageNews",data:function(){return{newsLoading:!0,newsCnt:0,newsPageSize:50,filterData:{title:"",privilege:0},newsColumns:[{title:"#",key:"news_id",width:80,render:function(e,t){return e("Button",{props:{type:"dashed",size:"small",to:"/news/"+t.row.news_id+"/edit"}},t.row.news_id)}},{title:"标题",key:"title",render:function(e,t){return e("Button",{props:{type:"dashed",to:"/news/"+t.row.news_id+"/edit"}},t.row.title)}},{title:"权限",key:"privilege",render:function(e,t){return e("Tag",{props:{color:0==t.row.privilege?"success":"error"}},0==t.row.privilege?"公开":"私有")}},{title:"操作",key:"op",render:function(e,t){var n=Array();return n.push(e("Button",{props:{type:"primary",to:"/news/"+t.row.news_id+"/edit"},style:"margin:0 1px"},"编辑")),e("div",n)}}],newsData:[]}},computed:{newsPage:function(){return this.$route.query["page"]?r()(this.$route.query["page"]):1}},mounted:function(){this.getNewsList()},watch:{$route:function(e,t){this.getNewsList()}},methods:{changePage:function(e){this.$router.push({path:"/manage/news",query:{page:e}})},getNewsList:function(){var e=this;this.newsLoading=!0;var t=new URLSearchParams;t.append("user_id",this.$store.state.loginInfo.user_id),t.append("token",this.$store.state.loginInfo.token),axios.get(this.$store.state.API_ROOT+"news/list/"+this.newsPage+"?"+t.toString()).then(function(t){e.newsData=t.data.data.newsList,e.newsCnt=t.data.data.total,e.newsPageSize=t.data.data.pageSize,e.newsLoading=!1}).catch(function(e){console.log(e)})},filterNews:function(){var e=this;this.newsLoading=!0;var t=new URLSearchParams;t.append("user_id",this.$store.state.loginInfo.user_id),t.append("token",this.$store.state.loginInfo.token),t.append("title",this.filterData.title),t.append("privilege",this.filterData.privilege),axios.get(this.$store.state.API_ROOT+"news/list/"+this.newsPage+"?"+t.toString()).then(function(t){e.newsData=t.data.data.newsList,e.newsCnt=t.data.data.total,e.newsPageSize=t.data.data.pageSize,e.newsLoading=!1}).catch(function(e){console.log(e)})}}},l=o,p=(n("9ed6"),n("2877")),u=Object(p["a"])(l,a,s,!1,null,"0bc3796a",null);t["default"]=u.exports},"5d6b":function(e,t,n){var a=n("e53d").parseInt,s=n("a1ce").trim,i=n("e692"),r=/^[-+]?0[xX]/;e.exports=8!==a(i+"08")||22!==a(i+"0x16")?function(e,t){var n=s(String(e),3);return a(n,t>>>0||(r.test(n)?16:10))}:a},7445:function(e,t,n){var a=n("63b6"),s=n("5d6b");a(a.G+a.F*(parseInt!=s),{parseInt:s})},"9ed6":function(e,t,n){"use strict";var a=n("d968"),s=n.n(a);s.a},a1ce:function(e,t,n){var a=n("63b6"),s=n("25eb"),i=n("294c"),r=n("e692"),o="["+r+"]",l="​",p=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),c=function(e,t,n){var s={},o=i(function(){return!!r[e]()||l[e]()!=l}),p=s[e]=o?t(d):r[e];n&&(s[n]=p),a(a.P+a.F*o,"String",s)},d=c.trim=function(e,t){return e=String(s(e)),1&t&&(e=e.replace(p,"")),2&t&&(e=e.replace(u,"")),e};e.exports=c},b9e9:function(e,t,n){n("7445"),e.exports=n("584a").parseInt},d968:function(e,t,n){},e692:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(e,t,n){e.exports=n("b9e9")}}]);
//# sourceMappingURL=chunk-70d6ebb2-legacy.b2bc1a9f.js.map