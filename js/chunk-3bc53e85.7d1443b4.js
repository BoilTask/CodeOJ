(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bc53e85"],{"42fc":function(t,e,s){},6125:function(t,e,s){"use strict";var n=s("42fc"),o=s.n(n);o.a},9989:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Content",{staticStyle:{padding:"20px"}},[s("Table",{attrs:{stripe:"",columns:t.statusColumns,data:t.statusData,loading:t.statusLoading}}),""!=t.code?s("MarkdownShow",{staticClass:"codeContent",model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}):t._e(),""!=t.compileInfo?s("MarkdownShow",{staticClass:"codeContent",model:{value:t.compileInfo,callback:function(e){t.compileInfo=e},expression:"compileInfo"}}):t._e(),t.tasks.length>0?s("Collapse",{staticClass:"codeContent",attrs:{simple:""}},t._l(t.tasks,function(e,n){return s("Panel",[t._v("\n\t\t\t子任务 : "+t._s(n+1)+"\n\t\t\t"),s("div",{attrs:{slot:"content"},slot:"content"},[s("Collapse",{staticClass:"codeContent",attrs:{simple:""}},t._l(e,function(e){return s("Panel",[t._v("\n\n\t\t\t\t\t\t结果："),s("Tag",{attrs:{color:t.resultToType(e.result)}},[t._v(t._s(t.intToResult(e.result)))]),t._v(" | 用时："+t._s(e.time)+" MS\n\t\t\t\t\t\t| 内存："+t._s(e.memory)+" KB\n\t\t\t\t\t\t"),s("p",{attrs:{slot:"content"},slot:"content"},[t._v("\n\t\t\t\t\t\t\t"+t._s(""==e.content?"无提示信息！":e.content)+"\n\t\t\t\t\t\t")])],1)}),1)],1)])}),1):t._e()],1)},o=[],a=(s("6b54"),{name:"Status",data(){return{statusLoading:!0,code:"",judge_time:"",compileInfo:"",statusColumns:[{title:"#",key:"status_id",align:"center",width:"100",render:(t,e)=>{return t("Button",{props:{type:"text",to:"/status/"+e.row.status_id}},e.row.status_id)}},{title:"题目",key:"problem_id",width:"100",align:"center",render:(t,e)=>{return t("Button",{props:{type:"text",to:"/problem/"+e.row.problem_id}},e.row.problem_id)}},{title:"状态",key:"result",align:"center",width:"180",render:(t,e)=>{return t("Button",{props:{type:this.resultToType(e.row.result),to:"/status/"+e.row.status_id}},this.intToResult(e.row.result))}},{title:"分数",key:"score",width:"100",render:(t,e)=>{return e.row.result<4?t("Spin"):t("Button",{props:{type:"dashed",to:"/status/"+e.row.status_id}},e.row.score)}},{title:"用时",key:"time",width:"100",align:"center",render:(t,e)=>{return t("span",e.row.time<0?"-":e.row.time)}},{title:"内存",key:"memory",width:"100",align:"center",render:(t,e)=>{return t("span",e.row.memory<0?"-":e.row.memory)}},{title:"语言 / 长度",key:"language",width:"150",align:"center",render:(t,e)=>{return t("Button",{props:{type:"dashed",to:"/status/"+e.row.status_id}},this.intToLanguage(e.row.language)+" / "+e.row.length)}},{title:"用户",key:"creator",align:"center",render:(t,e)=>{return t("Button",{props:{type:"text",to:"/user/"+e.row.creator}},e.row.creator)}},{title:"时间",key:"insert_time",width:"180",align:"center"}],statusData:[],interval:"",tasks:[]}},mounted(){this.getStatusList()},watch:{$route(t,e){this.getStatusList()}},methods:{getStatusList(){""!=this.interval&&clearInterval(this.interval),this.statusLoading=!0;var t=new URLSearchParams;this.$store.state.loginInfo.user_id&&this.$store.state.loginInfo.user_id.length>=3&&this.$store.state.loginInfo.user_id.length<=20&&t.append("user_id",this.$store.state.loginInfo.user_id),this.$store.state.loginInfo.token&&""!=this.$store.state.loginInfo.token&&t.append("token",this.$store.state.loginInfo.token),axios.get(this.$store.state.API_ROOT+"status/"+this.$route.params.id+"?"+t.toString()).then(t=>{this.statusData=t.data.data.statusList;var e=new URLSearchParams;this.$store.state.loginInfo.user_id&&this.$store.state.loginInfo.user_id.length>=3&&this.$store.state.loginInfo.user_id.length<=20&&e.append("user_id",this.$store.state.loginInfo.user_id),this.$store.state.loginInfo.token&&""!=this.$store.state.loginInfo.token&&e.append("token",this.$store.state.loginInfo.token),axios.get(this.$store.state.API_ROOT+"status/"+this.$route.params.id+"/detail?"+e.toString()).then(t=>{this.code="## 用户代码\n```"+this.intToLanguage(this.statusData[0].language)+"\n"+t.data.data.code+"\n```";let e=t.data.data.judgeInfo.judge_time,s=t.data.data.judgeInfo.judger;if(e&&""!=e){let t="## 判题信息\n>"+e;s&&""!=s&&(t=t+" By "+s),this.code=t+"\n"+this.code}this.compileInfo=t.data.data.compileInfo&&""!=t.data.data.compileInfo?"## 编译信息\n"+t.data.data.compileInfo:"";let n=t.data.data.tasks,o=Array();for(let a=0;a<n.length;a++)Array.isArray(o[n[a].task_id])||(o[n[a].task_id]=Array()),o[n[a].task_id].push({result:n[a].result,time:n[a].time,memory:n[a].memory,content:n[a].content});this.tasks=o}).catch(function(t){console.log(t)}),this.statusLoading=!1,this.interval=setInterval(()=>{let t=new Array;for(let n=0;n<this.statusData.length;n++)this.statusData[n].result<4&&t.push({key:n,status_id:this.statusData[n].status_id});if(0===t.length)return clearInterval(this.interval),!0;let e=JSON.stringify(t);var s=new URLSearchParams;this.$store.state.loginInfo.user_id&&this.$store.state.loginInfo.user_id.length>=3&&this.$store.state.loginInfo.user_id.length<=20&&s.append("user_id",this.$store.state.loginInfo.user_id),this.$store.state.loginInfo.token&&""!=this.$store.state.loginInfo.token&&s.append("token",this.$store.state.loginInfo.token),e&&e.length>0&&s.append("statusList",e),axios.get(this.$store.state.API_ROOT+"status/update?"+s.toString()).then(t=>{let e=t.data.data.statusList;for(let s=0;s<e.length;s++)this.$set(this.statusData[e[s].key],"result",e[s].result),this.$set(this.statusData[e[s].key],"score",e[s].score),this.$set(this.statusData[e[s].key],"time",e[s].time),this.$set(this.statusData[e[s].key],"memory",e[s].memory)}).catch(function(t){console.log(t)})},2500)}).catch(function(t){console.log(t)})},intToLanguage(t){let e=["C","C++","Pascal","Java","Ruby","Bash","Python"];return t>=0&&t<=e.length?e[t]:"Other"},intToResult(t){let e=["Pending","Pending Rejudge","Compiling","Running & Judging","Accept","Persentation Error","Wrong Answer","Time Limit Error","Memory Limit Error","Output Limit Exceeded","Runtime Error","Compile Error","Compile Limit Exceeded","Test Running","Judge Fail"];return t>=0&&t<=e.length?e[t]:"Other"},resultToType(t){return t<4?"info":4==t?"success":5==t?"warning":"error"}}}),r=a,i=(s("6125"),s("2877")),l=Object(i["a"])(r,n,o,!1,null,"e463320a",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-3bc53e85.7d1443b4.js.map