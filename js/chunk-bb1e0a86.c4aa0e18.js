(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bb1e0a86"],{"0919":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Content",{staticStyle:{"text-align":"center",padding:"20px"}},[n("Form",{ref:"filterData",attrs:{model:t.filterData,inline:""}},[n("FormItem",{attrs:{prop:"title"}},[n("Input",{attrs:{type:"text",placeholder:"Title"},model:{value:t.filterData.title,callback:function(e){t.$set(t.filterData,"title",e)},expression:"filterData.title"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("标题：")])])],1),n("FormItem",[n("Select",{model:{value:t.filterData.privilege,callback:function(e){t.$set(t.filterData,"privilege",e)},expression:"filterData.privilege"}},[n("span",{attrs:{slot:"prefix"},slot:"prefix"},[t._v("权限：")]),n("Option",{key:0,attrs:{value:0}},[t._v("全部")]),n("Option",{key:1,attrs:{value:1}},[t._v("公开")]),n("Option",{key:2,attrs:{value:2}},[t._v("私有")])],1)],1),n("FormItem",[n("Button",{attrs:{type:"primary"},on:{click:t.filterNews}},[t._v("筛选")]),n("Button",{attrs:{type:"error",to:"/news/add"}},[t._v("新建")])],1)],1),n("Page",{staticClass:"pageBar",attrs:{total:t.newsCnt,"page-size":t.newsPageSize,current:t.newsPage,"show-elevator":"","show-total":""},on:{"on-change":t.changePage}}),n("Table",{attrs:{stripe:"",columns:t.newsColumns,data:t.newsData,loading:t.newsLoading}}),n("Page",{staticClass:"pageBar",attrs:{total:t.newsCnt,"page-size":t.newsPageSize,current:t.newsPage,"show-elevator":"","show-total":""},on:{"on-change":t.changePage}})],1)},s=[],i=(n("6b54"),n("e814")),r=n.n(i),o={name:"ManageNews",data:function(){return{newsLoading:!0,newsCnt:0,newsPageSize:50,filterData:{title:"",privilege:0},newsColumns:[{title:"#",key:"news_id",width:80,render:function(t,e){return t("Button",{props:{type:"dashed",size:"small",to:"/news/"+e.row.news_id+"/edit"}},e.row.news_id)}},{title:"标题",key:"title",render:function(t,e){return t("Button",{props:{type:"dashed",to:"/news/"+e.row.news_id+"/edit"}},e.row.title)}},{title:"权限",key:"privilege",render:function(t,e){return t("Tag",{props:{color:0==e.row.privilege?"success":"error"}},0==e.row.privilege?"公开":"私有")}},{title:"操作",key:"op",render:function(t,e){var n=Array();return n.push(t("Button",{props:{type:"primary",to:"/news/"+e.row.news_id+"/edit"},style:"margin:0 1px"},"编辑")),t("div",n)}}],newsData:[]}},computed:{newsPage:function(){return this.$route.query["page"]?r()(this.$route.query["page"]):1}},mounted:function(){this.getNewsList()},watch:{$route:function(t,e){this.getNewsList()}},methods:{changePage:function(t){this.$router.push({path:"/manage/news",query:{page:t}})},getNewsList:function(){var t=this;this.newsLoading=!0;var e=new URLSearchParams;e.append("user_id",this.$store.state.loginInfo.user_id),e.append("token",this.$store.state.loginInfo.token),axios.get(this.$store.state.API_ROOT+"news/list/"+this.newsPage+"?"+e.toString()).then(function(e){t.newsData=e.data.data.newsList,t.newsCnt=e.data.data.total,t.newsPageSize=e.data.data.pageSize,t.newsLoading=!1}).catch(function(t){console.log(t)})},filterNews:function(){var t=this;this.newsLoading=!0;var e=new URLSearchParams;e.append("user_id",this.$store.state.loginInfo.user_id),e.append("token",this.$store.state.loginInfo.token),e.append("title",this.filterData.title),e.append("privilege",this.filterData.privilege),axios.get(this.$store.state.API_ROOT+"news/list/"+this.newsPage+"?"+e.toString()).then(function(e){t.newsData=e.data.data.newsList,t.newsCnt=e.data.data.total,t.newsPageSize=e.data.data.pageSize,t.newsLoading=!1}).catch(function(t){console.log(t)})}}},l=o,p=(n("39ca"),n("2877")),u=Object(p["a"])(l,a,s,!1,null,"6cabb43d",null);e["default"]=u.exports},"39ca":function(t,e,n){"use strict";var a=n("64b7"),s=n.n(a);s.a},"5d6b":function(t,e,n){var a=n("e53d").parseInt,s=n("a1ce").trim,i=n("e692"),r=/^[-+]?0[xX]/;t.exports=8!==a(i+"08")||22!==a(i+"0x16")?function(t,e){var n=s(String(t),3);return a(n,e>>>0||(r.test(n)?16:10))}:a},"64b7":function(t,e,n){},7445:function(t,e,n){var a=n("63b6"),s=n("5d6b");a(a.G+a.F*(parseInt!=s),{parseInt:s})},a1ce:function(t,e,n){var a=n("63b6"),s=n("25eb"),i=n("294c"),r=n("e692"),o="["+r+"]",l="​",p=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),c=function(t,e,n){var s={},o=i(function(){return!!r[t]()||l[t]()!=l}),p=s[t]=o?e(d):r[t];n&&(s[n]=p),a(a.P+a.F*o,"String",s)},d=c.trim=function(t,e){return t=String(s(t)),1&e&&(t=t.replace(p,"")),2&e&&(t=t.replace(u,"")),t};t.exports=c},b9e9:function(t,e,n){n("7445"),t.exports=n("584a").parseInt},e692:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(t,e,n){t.exports=n("b9e9")}}]);
//# sourceMappingURL=chunk-bb1e0a86.c4aa0e18.js.map