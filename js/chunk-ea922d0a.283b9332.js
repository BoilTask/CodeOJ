(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ea922d0a"],{"0f83":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Content",{staticStyle:{"text-align":"center",padding:"20px"}},[r("Form",{ref:"filterData",attrs:{model:t.filterData,inline:""}},[r("FormItem",{attrs:{prop:"title"}},[r("Input",{attrs:{type:"text",placeholder:"Problem_id"},model:{value:t.filterData.problem_id,callback:function(e){t.$set(t.filterData,"problem_id",e)},expression:"filterData.problem_id"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("题目：")])])],1),r("FormItem",{attrs:{prop:"result"}},[r("Select",{staticStyle:{width:"200px"},model:{value:t.filterData.result,callback:function(e){t.$set(t.filterData,"result",e)},expression:"filterData.result"}},[r("span",{attrs:{slot:"prefix"},slot:"prefix"},[t._v("状态：")]),t._l(t.resultList,function(e){return r("Option",{key:e.key,attrs:{value:e.key}},[t._v(t._s(e.name))])})],2)],1),r("FormItem",{attrs:{prop:"score_min"}},[r("Input",{staticStyle:{width:"110px"},attrs:{type:"number",placeholder:"0"},model:{value:t.filterData.score_min,callback:function(e){t.$set(t.filterData,"score_min",e)},expression:"filterData.score_min"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("分数：")])])],1),r("FormItem",{attrs:{prop:"score_max"}},[r("Input",{staticStyle:{width:"110px"},attrs:{type:"number",placeholder:"100"},model:{value:t.filterData.score_max,callback:function(e){t.$set(t.filterData,"score_max",e)},expression:"filterData.score_max"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("~")])])],1),r("FormItem",{attrs:{prop:"language"}},[r("Select",{staticStyle:{width:"150px"},model:{value:t.filterData.language,callback:function(e){t.$set(t.filterData,"language",e)},expression:"filterData.language"}},[r("span",{attrs:{slot:"prefix"},slot:"prefix"},[t._v("语言：")]),t._l(t.languageList,function(e){return r("Option",{key:e.key,attrs:{value:e.key}},[t._v(t._s(e.name))])})],2)],1),r("FormItem",{attrs:{prop:"user"}},[r("Input",{attrs:{type:"text",placeholder:"user"},model:{value:t.filterData.user,callback:function(e){t.$set(t.filterData,"user",e)},expression:"filterData.user"}},[r("Button",{attrs:{slot:"prepend"},on:{click:t.fillMine},slot:"prepend"},[t._v("用户：")])],1)],1),r("FormItem",[r("Button",{attrs:{type:"primary"},on:{click:t.filterStatus}},[t._v("筛选")])],1)],1),r("ButtonGroup",{staticClass:"pageBar"},[r("Button",{attrs:{type:"primary"},on:{click:t.previousPage}},[r("Icon",{attrs:{type:"ios-arrow-back"}}),t._v("\n\t\t\t上一页\n\t\t")],1),r("Button",{attrs:{type:"primary"},on:{click:t.nextPage}},[t._v("\n\t\t\t下一页\n\t\t\t"),r("Icon",{attrs:{type:"ios-arrow-forward"}})],1)],1),r("Table",{attrs:{stripe:"",columns:t.statusColumns,data:t.statusData,loading:t.statusLoading}}),r("ButtonGroup",{staticClass:"pageBar"},[r("Button",{attrs:{type:"primary"},on:{click:t.previousPage}},[r("Icon",{attrs:{type:"ios-arrow-back"}}),t._v("\n\t\t\t上一页\n\t\t")],1),r("Button",{attrs:{type:"primary"},on:{click:t.nextPage}},[t._v("\n\t\t\t下一页\n\t\t\t"),r("Icon",{attrs:{type:"ios-arrow-forward"}})],1)],1)],1)},s=[],i=(r("6b54"),{name:"Status",data(){return{statusLoading:!0,filterData:{problem_id:"",result:-1,score_min:0,score_max:100,language:-1,user:""},resultList:[{key:-1,name:"All"},{key:4,name:"Accept"},{key:5,name:"Persentation Error"},{key:6,name:"Wrong Answer"},{key:7,name:"Time Limit Error"},{key:8,name:"Memory Limit Error"},{key:9,name:"Output Limit Exceeded"},{key:10,name:"Runtime Error"},{key:11,name:"Compile Error"},{key:14,name:"Judge Fail"},{key:0,name:"Pending"},{key:1,name:"Pending Rejudge"},{key:2,name:"Compiling"},{key:3,name:"Running & Judging"}],languageList:[{key:-1,name:"All"},{key:0,name:"C"},{key:1,name:"C++"},{key:3,name:"Java"},{key:6,name:"Python"}],statusColumns:[{title:"#",key:"status_id",align:"center",width:"100",render:(t,e)=>{return t("Button",{props:{type:"text",to:"/status/"+e.row.status_id}},e.row.status_id)}},{title:"题目",key:"problem_id",width:"100",align:"center",render:(t,e)=>{return t("Button",{props:{type:"text",to:"/problem/"+e.row.problem_id}},e.row.problem_id)}},{title:"状态",key:"result",align:"center",width:"190",render:(t,e)=>{return t("Button",{props:{type:this.resultToType(e.row.result),to:"/status/"+e.row.status_id}},this.intToResult(e.row.result))}},{title:"分数",key:"score",width:"100",render:(t,e)=>{return e.row.result<4?t("Spin"):t("Button",{props:{type:"dashed",to:"/status/"+e.row.status_id}},e.row.score)}},{title:"用时",key:"time",width:"100",align:"center",render:(t,e)=>{return t("span",e.row.time<0?"-":e.row.time)}},{title:"内存",key:"memory",width:"100",align:"center",render:(t,e)=>{return t("span",e.row.memory<0?"-":e.row.memory)}},{title:"语言 / 长度",key:"language",width:"150",align:"center",render:(t,e)=>{return t("Button",{props:{type:"dashed",to:"/status/"+e.row.status_id}},this.intToLanguage(e.row.language)+" / "+e.row.length)}},{title:"用户",key:"creator",align:"center",render:(t,e)=>{return t("Button",{props:{type:"text",to:"/user/"+e.row.creator}},e.row.creator)}},{title:"时间",key:"insert_time",width:"180",align:"center"}],statusData:[],interval:""}},computed:{statusPage:{get:function(){return this.$route.query["page"]?parseInt(this.$route.query["page"]):1},set:function(t){this.$router.push({path:"status",query:{problem_id:this.filterData.problem_id,result:this.filterData.result,score_min:this.filterData.score_min,score_max:this.filterData.score_max,language:this.filterData.language,user:this.filterData.user,page:t}})}}},mounted(){this.filterData.problem_id=this.$route.query["problem_id"]?this.$route.query["problem_id"]:"",this.filterData.result=this.$route.query["result"]?this.$route.query["result"]:-1,this.filterData.score_min=this.$route.query["score_min"]?this.$route.query["score_min"]:0,this.filterData.score_max=this.$route.query["score_max"]?this.$route.query["score_max"]:100,this.filterData.language=this.$route.query["language"]?this.$route.query["language"]:-1,this.filterData.user=this.$route.query["user"]?this.$route.query["user"]:"",this.getStatusList()},watch:{$route(t,e){this.getStatusList()}},methods:{fillMine(){this.$store.state.loginInfo.user_id&&this.$store.state.loginInfo.user_id.length>=3&&this.$store.state.loginInfo.user_id.length<=20&&(this.filterData.user=this.$store.state.loginInfo.user_id)},getStatusList(){""!=this.interval&&clearInterval(this.interval),this.statusLoading=!0;var t=new URLSearchParams;this.$store.state.loginInfo.user_id&&this.$store.state.loginInfo.user_id.length>=3&&this.$store.state.loginInfo.user_id.length<=20&&t.append("user_id",this.$store.state.loginInfo.user_id),this.$store.state.loginInfo.token&&""!=this.$store.state.loginInfo.token&&t.append("token",this.$store.state.loginInfo.token),this.filterData.problem_id&&""!=this.filterData.problem_id&&t.append("problem_id",this.filterData.problem_id),(0==this.filterData.result||this.filterData.result&&-1!=this.filterData.result)&&t.append("result",this.filterData.result),(0==this.filterData.score_min||this.filterData.score_min&&this.filterData.score_min>=0&&this.filterData.score_min<=100)&&t.append("score_min",this.filterData.score_min),(0==this.filterData.score_max||this.filterData.score_max&&this.filterData.score_max>=0&&this.filterData.score_max<=100)&&t.append("score_max",this.filterData.score_max),(0==this.filterData.language||this.filterData.language&&-1!=this.filterData.language)&&t.append("language",this.filterData.language),this.filterData.user&&this.filterData.user.length>=3&&this.filterData.user.length<=20&&t.append("user",this.filterData.user),axios.get(this.$store.state.API_ROOT+"status/list/"+this.statusPage+"?"+t.toString()).then(t=>{this.statusData=t.data.data.statusList,this.statusLoading=!1,this.interval=setInterval(()=>{let t=new Array;for(let a=0;a<this.statusData.length;a++)this.statusData[a].result<4&&t.push({key:a,status_id:this.statusData[a].status_id});if(0===t.length)return clearInterval(this.interval),!0;let e=JSON.stringify(t);var r=new URLSearchParams;this.$store.state.loginInfo.user_id&&this.$store.state.loginInfo.user_id.length>=3&&this.$store.state.loginInfo.user_id.length<=20&&r.append("user_id",this.$store.state.loginInfo.user_id),this.$store.state.loginInfo.token&&""!=this.$store.state.loginInfo.token&&r.append("token",this.$store.state.loginInfo.token),e&&e.length>0&&r.append("statusList",e),axios.get(this.$store.state.API_ROOT+"status/update?"+r.toString()).then(t=>{let e=t.data.data.statusList;for(let r=0;r<e.length;r++)this.$set(this.statusData[e[r].key],"result",e[r].result),this.$set(this.statusData[e[r].key],"score",e[r].score),this.$set(this.statusData[e[r].key],"time",e[r].time),this.$set(this.statusData[e[r].key],"memory",e[r].memory)}).catch(function(t){console.log(t)})},2500)}).catch(function(t){console.log(t)})},filterStatus(){this.statusPage=1},previousPage(){this.statusPage<=1?this.statusPage=1:this.statusPage=this.statusPage-1},nextPage(){this.statusPage=this.statusPage+1},intToLanguage(t){let e=["C","C++","Pascal","Java","Ruby","Bash","Python"];return t>=0&&t<=e.length?e[t]:"Other"},intToResult(t){let e=["Pending","Pending Rejudge","Compiling","Running & Judging","Accept","Persentation Error","Wrong Answer","Time Limit Error","Memory Limit Error","Output Limit Exceeded","Runtime Error","Compile Error","Compile Limit Exceeded","Test Running","Judge Fail"];return t>=0&&t<=e.length?e[t]:"Other"},resultToType(t){return t<4?"info":4==t?"success":5==t?"warning":"error"}}}),n=i,o=(r("4473"),r("2877")),l=Object(o["a"])(n,a,s,!1,null,"24f27996",null);e["default"]=l.exports},"2e6b":function(t,e,r){},4473:function(t,e,r){"use strict";var a=r("2e6b"),s=r.n(a);s.a}}]);
//# sourceMappingURL=chunk-ea922d0a.283b9332.js.map